<app-section *ngIf="vm$ | async as vm"
  class="dishes"
>
  <div class="app-section__toolbar">
    <h2 class="title">
      {{ vm.total }} total
    </h2>
    <a app-button
      routerLink="/dishes/new"
    >
      New Dish
    </a>
  </div>
  <ul class="app-section__content">
    <app-tabset>
      <app-tab
        name="Mains ({{ vm.mains.length }})"
        [selected]="vm.initialTab === 'main'"
      >
        <li app-dish
          *ngFor="let main of vm.mains; trackBy: trackByFn"
          [id]="main.id"
          [name]="main.name"
          [description]="main.description"
          [type]="main.type"
          [favorited]="main.favorited"
          [ingredients]="main.ingredients"
          [menus]="main.menus"
        ></li>
      </app-tab>
      <app-tab
        name="Sides ({{ vm.sides.length }})"
        [selected]="vm.initialTab === 'side'"
      >
        <li app-dish
          *ngFor="let side of vm.sides; trackBy: trackByFn"
          [id]="side.id"
          [name]="side.name"
          [description]="side.description"
          [type]="side.type"
          [favorited]="side.favorited"
          [ingredients]="side.ingredients"
          [menus]="side.menus"
        ></li>
      </app-tab>
    </app-tabset>
  </ul>
</app-section>

<section>
  <router-outlet></router-outlet>
</section>
